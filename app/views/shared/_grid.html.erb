<%# ==== Safe defaults for locals ==== %>
<% collection = local_assigns[:collection] || [] %>
<% next_url   = local_assigns[:next_url]   || nil %>
<% page_id    = local_assigns[:page_id].presence ||
                 "grid_#{controller_name}_#{action_name}_#{(params[:page] || 1)}" %>

<div id="<%= page_id %>"
     class="grid gap-6 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6"
     data-controller="<%= next_url.present? ? 'infinite-scroll' : '' %>"
     data-next-url="<%= next_url %>">

  <% if collection.present? %>
    <% collection.each do |item| %>
      <%= render "shared/media_card", item: item %>
    <% end %>
  <% else %>
    <div class="col-span-full text-neutral-400">Nothing to show.</div>
  <% end %>
</div>
